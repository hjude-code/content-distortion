{"version":3,"file":"view.js","mappings":"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","sources":["webpack://content-distortion/./src/view.js"],"sourcesContent":["const contentBox = document.querySelector('.wp-block-hjude-content-distortion');\r\nconst itterations = document.querySelectorAll(\".itterationLayer\");\r\nconst baseLayer = document.querySelector('.itterationBase');\r\n\r\nconst cut = {\r\n    step:Math.round(100/itterations.length),\r\n    in:0,\r\n    out:Math.round(100/itterations.length)\r\n}\r\n\r\nlet speedOffset = parseFloat(itterations[0].style.getPropertyValue('--offset'))\r\nlet speed = parseInt(itterations[0].style.getPropertyValue('--speed'));\r\nlet rotMax = parseInt(itterations[0].style.getPropertyValue('--rot-max'));\r\n\r\nitterations.forEach((itteration)=>{\r\n    itteration.style.setProperty('--speed', speed);\r\n    speed += speedOffset;\r\n\r\n    itteration.style.setProperty('--rot', rotMax)\r\n\r\n})\r\n\r\nconst setCut = (elmnt) =>{\r\n    elmnt.style.setProperty('--cutInner', `${cut.in}%`);\r\n    elmnt.style.setProperty('--cutOuter', `${cut.out}%`);\r\n    cut.in += cut.step;\r\n    cut.out += cut.step;\r\n}\r\n\r\nconst setRot = (elmnt, mx=50, my=50, mult=0) =>{\r\n\r\n    let rot = (mx-50)/100;\r\n\r\n\r\n    elmnt.style.setProperty('--cX', `${mx}%`);\r\n    elmnt.style.setProperty('--cY', `${my}%`);\r\n    // elmnt.style.setProperty('--rot', `${rot*rotMax*mult}deg`);\r\n}\r\n\r\nfor  (let i=itterations.length-1; i >= 0; i--){\r\n    setCut(itterations[i]);\r\n    setRot(itterations[i]);\r\n};\r\n\r\n\r\ncontentBox.addEventListener('mousemove', (m)=>{\r\n    const rect = m.target.getBoundingClientRect();\r\n    const x = Math.round( (m.clientX - rect.left)/rect.width * 100 );\r\n    const y = Math.round( (m.clientY - rect.top)/rect.height * 100 );\r\n    \r\n    for  (let i=itterations.length-1; i >= 0; i--){\r\n        setRot(itterations[i], x, y, i);\r\n    };\r\n});\r\n"],"names":["contentBox","document","querySelector","itterations","querySelectorAll","baseLayer","cut","step","Math","round","length","in","out","speedOffset","parseFloat","style","getPropertyValue","speed","parseInt","rotMax","forEach","itteration","setProperty","setCut","elmnt","setRot","mx","my","mult","rot","i","addEventListener","m","rect","target","getBoundingClientRect","x","clientX","left","width","y","clientY","top","height"],"sourceRoot":""}