{"version":3,"file":"view.js","mappings":";;;;;AAAA,MAAMA,UAAU,GAAGC,QAAQ,CAACC,aAAa,CAAC,oCAAoC,CAAC;AAC/E,MAAMC,WAAW,GAAGF,QAAQ,CAACG,gBAAgB,CAAC,kBAAkB,CAAC;AACjE,MAAMC,SAAS,GAAGJ,QAAQ,CAACC,aAAa,CAAC,iBAAiB,CAAC;AAE3D,MAAMI,GAAG,GAAG;EACRC,IAAI,EAACC,IAAI,CAACC,KAAK,CAAC,GAAG,GAACN,WAAW,CAACO,MAAM,CAAC;EACvCC,EAAE,EAAC,CAAC;EACJC,GAAG,EAACJ,IAAI,CAACC,KAAK,CAAC,GAAG,GAACN,WAAW,CAACO,MAAM;AACzC,CAAC;AAED,MAAMG,MAAM,GAAGC,MAAM,CAACC,gBAAgB,CAACV,SAAS,CAAC,CAACW,gBAAgB,CAAC,WAAW,CAAC;AAC/EC,OAAO,CAACC,GAAG,CAACL,MAAM,CAAC;AAEnB,MAAMM,MAAM,GAAIC,KAAK,IAAI;EACrBA,KAAK,CAACC,KAAK,CAACC,WAAW,CAAC,YAAY,EAAG,GAAEhB,GAAG,CAACK,EAAG,GAAE,CAAC;EACnDS,KAAK,CAACC,KAAK,CAACC,WAAW,CAAC,YAAY,EAAG,GAAEhB,GAAG,CAACM,GAAI,GAAE,CAAC;EACpDN,GAAG,CAACK,EAAE,IAAIL,GAAG,CAACC,IAAI;EAClBD,GAAG,CAACM,GAAG,IAAIN,GAAG,CAACC,IAAI;AACvB,CAAC;AAED,MAAMgB,MAAM,GAAGA,CAACH,KAAK,EAAEI,EAAE,GAAC,EAAE,EAAEC,EAAE,GAAC,EAAE,EAAEC,IAAI,GAAC,CAAC,KAAI;EAE3C,IAAIC,GAAG,GAAG,CAACH,EAAE,GAAC,EAAE,IAAE,GAAG;EAGrBJ,KAAK,CAACC,KAAK,CAACC,WAAW,CAAC,MAAM,EAAG,GAAEE,EAAG,GAAE,CAAC;EACzCJ,KAAK,CAACC,KAAK,CAACC,WAAW,CAAC,MAAM,EAAG,GAAEG,EAAG,GAAE,CAAC;EACzCL,KAAK,CAACC,KAAK,CAACC,WAAW,CAAC,OAAO,EAAG,GAAEK,GAAG,GAACd,MAAM,GAACa,IAAK,KAAI,CAAC;AAC7D,CAAC;AAED,KAAM,IAAIE,CAAC,GAACzB,WAAW,CAACO,MAAM,GAAC,CAAC,EAAEkB,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAC;EAC1CT,MAAM,CAAChB,WAAW,CAACyB,CAAC,CAAC,CAAC;EACtBL,MAAM,CAACpB,WAAW,CAACyB,CAAC,CAAC,CAAC;AAC1B;AAAC;AAGD5B,UAAU,CAAC6B,gBAAgB,CAAC,WAAW,EAAGC,CAAC,IAAG;EAC1C,MAAMC,IAAI,GAAGD,CAAC,CAACE,MAAM,CAACC,qBAAqB,CAAC,CAAC;EAC7C,MAAMC,CAAC,GAAG1B,IAAI,CAACC,KAAK,CAAE,CAACqB,CAAC,CAACK,OAAO,GAAGJ,IAAI,CAACK,IAAI,IAAEL,IAAI,CAACM,KAAK,GAAG,GAAI,CAAC;EAChE,MAAMC,CAAC,GAAG9B,IAAI,CAACC,KAAK,CAAE,CAACqB,CAAC,CAACS,OAAO,GAAGR,IAAI,CAACS,GAAG,IAAET,IAAI,CAACU,MAAM,GAAG,GAAI,CAAC;EAEhE,KAAM,IAAIb,CAAC,GAACzB,WAAW,CAACO,MAAM,GAAC,CAAC,EAAEkB,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAC;IAC1CL,MAAM,CAACpB,WAAW,CAACyB,CAAC,CAAC,EAAEM,CAAC,EAAEI,CAAC,EAAEV,CAAC,CAAC;EACnC;EAAC;AACL,CAAC,CAAC,C","sources":["webpack://content-distortion/./src/view.js"],"sourcesContent":["const contentBox = document.querySelector('.wp-block-hjude-content-distortion');\r\nconst itterations = document.querySelectorAll(\".itterationLayer\");\r\nconst baseLayer = document.querySelector('.itterationBase');\r\n\r\nconst cut = {\r\n    step:Math.round(100/itterations.length),\r\n    in:0,\r\n    out:Math.round(100/itterations.length)\r\n}\r\n\r\nconst rotMax = window.getComputedStyle(baseLayer).getPropertyValue('--rot-max');\r\nconsole.log(rotMax)\r\n\r\nconst setCut = (elmnt) =>{\r\n    elmnt.style.setProperty('--cutInner', `${cut.in}%`);\r\n    elmnt.style.setProperty('--cutOuter', `${cut.out}%`);\r\n    cut.in += cut.step;\r\n    cut.out += cut.step;\r\n}\r\n\r\nconst setRot = (elmnt, mx=50, my=50, mult=0) =>{\r\n\r\n    let rot = (mx-50)/100;\r\n\r\n\r\n    elmnt.style.setProperty('--cX', `${mx}%`);\r\n    elmnt.style.setProperty('--cY', `${my}%`);\r\n    elmnt.style.setProperty('--rot', `${rot*rotMax*mult}deg`);\r\n}\r\n\r\nfor  (let i=itterations.length-1; i >= 0; i--){\r\n    setCut(itterations[i]);\r\n    setRot(itterations[i]);\r\n};\r\n\r\n\r\ncontentBox.addEventListener('mousemove', (m)=>{\r\n    const rect = m.target.getBoundingClientRect();\r\n    const x = Math.round( (m.clientX - rect.left)/rect.width * 100 );\r\n    const y = Math.round( (m.clientY - rect.top)/rect.height * 100 );\r\n    \r\n    for  (let i=itterations.length-1; i >= 0; i--){\r\n        setRot(itterations[i], x, y, i);\r\n    };\r\n});\r\n"],"names":["contentBox","document","querySelector","itterations","querySelectorAll","baseLayer","cut","step","Math","round","length","in","out","rotMax","window","getComputedStyle","getPropertyValue","console","log","setCut","elmnt","style","setProperty","setRot","mx","my","mult","rot","i","addEventListener","m","rect","target","getBoundingClientRect","x","clientX","left","width","y","clientY","top","height"],"sourceRoot":""}